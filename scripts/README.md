# –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º

## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

### Backend (FastAPI)
```bash
cd backend
python -m uvicorn app.main:app --reload --port 8000
```

### Frontend (React)
```bash
cd frontend
npm run dev
```

## üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

### –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç: `toggle-auth.sh`

–£–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ.

#### –ö–æ–º–∞–Ω–¥—ã:
```bash
./scripts/toggle-auth.sh status     # –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
./scripts/toggle-auth.sh enable     # –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
./scripts/toggle-auth.sh disable    # –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
./scripts/toggle-auth.sh restart    # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
./scripts/toggle-auth.sh help       # –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
```

#### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
./scripts/toggle-auth.sh status

# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
./scripts/toggle-auth.sh disable

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è production
./scripts/toggle-auth.sh enable

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
./scripts/toggle-auth.sh restart
```

### üìã –°–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

#### üî¥ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞
- **Backend**: `auth_enabled: bool = True`
- **Frontend**: `authEnabled: true`
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**: –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω—ã
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: Production, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### üü¢ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞
- **Backend**: `auth_enabled: bool = False`
- **Frontend**: `authEnabled: false`
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**: –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–æ–≤
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã**
2. **–í production –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é**
3. **Mock –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
4. **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö**

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- **Backend**: `backend/app/config/settings.py`
- **Frontend**: `frontend/src/config.ts`

### Mock –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏):
- **ID**: 1
- **Username**: `dev_user`
- **Email**: `dev@example.com`
- **Password**: `dev_password_123`

### üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ 401 Unauthorized
```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
./scripts/toggle-auth.sh disable

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
./scripts/toggle-auth.sh restart
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```bash
./scripts/toggle-auth.sh status
```

### –°–±—Ä–æ—Å –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```bash
./scripts/toggle-auth.sh disable
./scripts/toggle-auth.sh restart
```

---

*–°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –û–° –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã sed*

## üìÅ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–æ–≤ –Ω–∞ –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤

### –°–∫—Ä–∏–ø—Ç `checklist-split-json-to-files`

–£–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ JSON —Ñ–∞–π–ª–∞ —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —á–µ–∫–ª–∏—Å—Ç–∞ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è—è –æ—Ç–Ω–æ—à–µ–Ω–∏—è –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞ –Ω–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
```
Portrait -> Section -> Subsection -> QuestionGroup -> Question -> Answer
```

#### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

##### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ JSON —Ñ–∞–π–ª–∞
```bash
# –†–∞–∑–¥–µ–ª—è–µ–º JSON —Ñ–∞–π–ª –Ω–∞ –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤
npm run checklist-split-json-to-files input.json output_folder
```

##### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ JSON —Ñ–∞–π–ª–∞
```bash
# –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π JSON –∏–∑ –¥–µ—Ä–µ–≤–∞ —Ñ–∞–π–ª–æ–≤
npm run checklist-join-files-to-json output_folder restored_file.json
```

##### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```bash
# –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª—ã
diff input.json restored_file.json
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

##### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
```bash
npm run checklist-split-json-to-files input.json output_directory
```

##### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ JSON
```bash
npm run checklist-join-files-to-json output_directory restored_file.json
```

##### –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

###### –î–ª—è –±–æ–ª—å—à–∏—Ö —á–µ–∫-–ª–∏—Å—Ç–æ–≤
```bash
npm run checklist-split-json-to-files huge_checklist.json checklist_modules
npm run checklist-join-files-to-json checklist_modules restored_checklist.json
```

#### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤

–ü–æ—Å–ª–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:

```
output_folder/
‚îú‚îÄ‚îÄ index.json                    # –ò–Ω–¥–µ–∫—Å–Ω—ã–π —Ñ–∞–π–ª —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
‚îî‚îÄ‚îÄ portrait_id/                  # –ü–∞–ø–∫–∞ –ø–æ—Ä—Ç—Ä–µ—Ç–∞
    ‚îî‚îÄ‚îÄ portrait.json            # –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç–∞
    ‚îî‚îÄ‚îÄ section_id/              # –ü–∞–ø–∫–∞ —Å–µ–∫—Ü–∏–∏
        ‚îî‚îÄ‚îÄ section.json         # –î–∞–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
        ‚îî‚îÄ‚îÄ subsection_id/       # –ü–∞–ø–∫–∞ –ø–æ–¥—Å–µ–∫—Ü–∏–∏
            ‚îî‚îÄ‚îÄ subsection.json  # –î–∞–Ω–Ω—ã–µ –ø–æ–¥—Å–µ–∫—Ü–∏–∏
            ‚îî‚îÄ‚îÄ group_id/        # –ü–∞–ø–∫–∞ –≥—Ä—É–ø–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤
                ‚îî‚îÄ‚îÄ group.json   # –î–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤
                ‚îî‚îÄ‚îÄ question_id/ # –ü–∞–ø–∫–∞ –≤–æ–ø—Ä–æ—Å–∞
                    ‚îî‚îÄ‚îÄ question.json  # –í–æ–ø—Ä–æ—Å + –≤—Å–µ –µ–≥–æ –æ—Ç–≤–µ—Ç—ã
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ö–∞–∂–¥—ã–π `question.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π –≤–æ–ø—Ä–æ—Å —Å–æ –≤—Å–µ–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–∏
- –û—Ç–≤–µ—Ç—ã –Ω–µ –≤—ã–Ω–æ—Å—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
- –í—Å–µ —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–æ–ª—è (id, type, title) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è, –Ω–æ –ª–æ–≥–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Å—Ç–∞—è

##### –§–∞–π–ª—ã —Å –¥–∞–Ω–Ω—ã–º–∏
–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
- `type` - —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞ (portrait, section, subsection, question_group, question)
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞:
  - **question**: `answers`, `answerType`, `source`, `hint`, `exercise`
  - **answer**: `value`, `exportedValue`, `hint`, `exercise`
  - **group**: `questions` (—Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–∞–ø–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤)
  - **subsection**: `questionGroups` (—Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–∞–ø–∫–∏ –≥—Ä—É–ø–ø)
  - **section**: `subsections` (—Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–∞–ø–∫–∏ –ø–æ–¥—Å–µ–∫—Ü–∏–π)
  - **portrait**: `sections` (—Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–∞–ø–∫–∏ —Å–µ–∫—Ü–∏–π)

##### –ò–Ω–¥–µ–∫—Å–Ω—ã–π —Ñ–∞–π–ª
```json
{
  "root": "portrait_id/portrait.json",
  "created_at": "timestamp",
  "source_file": "input.json",
  "structure": "portrait -> section -> subsection -> question_group -> question (—Å –æ—Ç–≤–µ—Ç–∞–º–∏)"
}
```
